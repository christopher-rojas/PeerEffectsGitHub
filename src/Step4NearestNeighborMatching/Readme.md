The next set of programs will compute nearest neighbors and match the agents from treated observations with similar non-treated agents.

First, use the program 'baseline.py' to create the features (besides preferences) which will be used for matching. After that, use the program 'nearestNeighbors.py' to do nearest-neighbor matching with only the baseline features, baseline features + adoption matrix, baseline features + programming languages, or baseline features + WMRF (our preferred specification). You must specify the time period, number of nearest neighbors for each agent, number of months of inactivity which defines exit, and then the directories where the stars/follows data (from Step 2), and preference representation (from Step 3) are located. The output of this program is a file in which each agent is listed along with their nearest neighbors, and the distance to the neighbor. We use variance-weighted Euclidean distance. Use the program "randomNeighbors.py" to select random neighbors.

The program "matchTreatedObservations.py" will compute, for each agent and each repo which was recently starred by agent(s) they follow, the nearest non-treated (and non-connected in the social network) agent. You must specify the time period, directories where stars/follows data and WRMF factor vectors are located. You must also set the maximum duration of peer influence, which determines how long in the past someone an agent follows could have starred a repo, for that agent to be considered as treated. The output is a .csv file in which each row corresponds to an agent-repo, and the output includes whether or not the treated agent adopts the item that period (listed as a datetime) and whether or not the matched, non-treated agent adopts the item that period (also listed as a datetime).
